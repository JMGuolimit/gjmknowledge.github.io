(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{512:function(r,t,e){"use strict";e.r(t);var i=e(2),n=Object(i.a)({},(function(){var r=this,t=r._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("p",[r._v("Writer\n最后更新: 2019/8/14 22:53 / 阅读: 624629\nReader是带编码转换器的InputStream，它把byte转换为char，而Writer就是带编码转换器的OutputStream，它把char转换为byte并输出。")]),r._v(" "),t("p",[r._v("Writer和OutputStream的区别如下：")]),r._v(" "),t("p",[r._v("OutputStream\tWriter\n字节流，以byte为单位\t字符流，以char为单位\n写入字节（0~255）：void write(int b)\t写入字符（0~65535）：void write(int c)\n写入字节数组：void write(byte[] b)\t写入字符数组：void write(char[] c)\n无对应方法\t写入String：void write(String s)\nWriter是所有字符输出流的超类，它提供的方法主要有：")]),r._v(" "),t("p",[r._v("写入一个字符（0~65535）：void write(int c)；\n写入字符数组的所有字符：void write(char[] c)；\n写入String表示的所有字符：void write(String s)。\nFileWriter\nFileWriter就是向文件中写入字符流的Writer。它的使用方法和FileReader类似：")]),r._v(" "),t("p",[r._v('try (Writer writer = new FileWriter("readme.txt", StandardCharsets.UTF_8)) {\nwriter.write(\'H\'); // 写入单个字符\nwriter.write("Hello".toCharArray()); // 写入char[]\nwriter.write("Hello"); // 写入String\n}\nCharArrayWriter\nCharArrayWriter可以在内存中创建一个Writer，它的作用实际上是构造一个缓冲区，可以写入char，最后得到写入的char[]数组，这和ByteArrayOutputStream非常类似：')]),r._v(" "),t("p",[r._v("try (CharArrayWriter writer = new CharArrayWriter()) {\nwriter.write(65);\nwriter.write(66);\nwriter.write(67);\nchar[] data = writer.toCharArray(); // { 'A', 'B', 'C' }\n}\nStringWriter\nStringWriter也是一个基于内存的Writer，它和CharArrayWriter类似。实际上，StringWriter在内部维护了一个StringBuffer，并对外提供了Writer接口。")]),r._v(" "),t("p",[r._v("OutputStreamWriter\n除了CharArrayWriter和StringWriter外，普通的Writer实际上是基于OutputStream构造的，它接收char，然后在内部自动转换成一个或多个byte，并写入OutputStream。因此，OutputStreamWriter就是一个将任意的OutputStream转换为Writer的转换器：")]),r._v(" "),t("p",[r._v('try (Writer writer = new OutputStreamWriter(new FileOutputStream("readme.txt"), "UTF-8")) {\n// TODO:\n}\n上述代码实际上就是FileWriter的一种实现方式。这和上一节的InputStreamReader是一样的。')]),r._v(" "),t("p",[r._v("小结\nWriter定义了所有字符输出流的超类：")]),r._v(" "),t("p",[r._v("FileWriter实现了文件字符流输出；")]),r._v(" "),t("p",[r._v("CharArrayWriter和StringWriter在内存中模拟一个字符流输出。")]),r._v(" "),t("p",[r._v("使用try (resource)保证Writer正确关闭。")]),r._v(" "),t("p",[r._v("Writer是基于OutputStream构造的，可以通过OutputStreamWriter将OutputStream转换为Writer，转换时需要指定编码。")])])}),[],!1,null,null,null);t.default=n.exports}}]);