(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{509:function(n,t,e){"use strict";e.r(t);var r=e(2),i=Object(r.a)({},(function(){var n=this,t=n._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("p",[n._v("InputStream\næœ€åæ›´æ–°: 2019/8/13 07:26 / é˜…è¯»: 5247289\nInputStreamå°±æ˜¯Javaæ ‡å‡†åº“æä¾›çš„æœ€åŸºæœ¬çš„è¾“å…¥æµã€‚å®ƒä½äºjava.ioè¿™ä¸ªåŒ…é‡Œã€‚java.ioåŒ…æä¾›äº†æ‰€æœ‰åŒæ­¥IOçš„åŠŸèƒ½ã€‚")]),n._v(" "),t("p",[n._v("è¦ç‰¹åˆ«æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼ŒInputStreamå¹¶ä¸æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰è¾“å…¥æµçš„è¶…ç±»ã€‚è¿™ä¸ªæŠ½è±¡ç±»å®šä¹‰çš„ä¸€ä¸ªæœ€é‡è¦çš„æ–¹æ³•å°±æ˜¯int read()ï¼Œç­¾åå¦‚ä¸‹ï¼š")]),n._v(" "),t("p",[n._v("public abstract int read() throws IOException;\nè¿™ä¸ªæ–¹æ³•ä¼šè¯»å–è¾“å…¥æµçš„ä¸‹ä¸€ä¸ªå­—èŠ‚ï¼Œå¹¶è¿”å›å­—èŠ‚è¡¨ç¤ºçš„intå€¼ï¼ˆ0~255ï¼‰ã€‚å¦‚æœå·²è¯»åˆ°æœ«å°¾ï¼Œè¿”å›-1è¡¨ç¤ºä¸èƒ½ç»§ç»­è¯»å–äº†ã€‚")]),n._v(" "),t("p",[n._v("FileInputStreamæ˜¯InputStreamçš„ä¸€ä¸ªå­ç±»ã€‚é¡¾åæ€ä¹‰ï¼ŒFileInputStreamå°±æ˜¯ä»æ–‡ä»¶æµä¸­è¯»å–æ•°æ®ã€‚ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å®Œæ•´åœ°è¯»å–ä¸€ä¸ªFileInputStreamçš„æ‰€æœ‰å­—èŠ‚ï¼š")]),n._v(" "),t("p",[n._v('public void readFile() throws IOException {\n// åˆ›å»ºä¸€ä¸ªFileInputStreamå¯¹è±¡:\nInputStream input = new FileInputStream("src/readme.txt");\nfor (;ğŸ˜‰ {\nint n = input.read(); // åå¤è°ƒç”¨read()æ–¹æ³•ï¼Œç›´åˆ°è¿”å›-1\nif (n == -1) {\nbreak;\n}\nSystem.out.println(n); // æ‰“å°byteçš„å€¼\n}\ninput.close(); // å…³é—­æµ\n}\nåœ¨è®¡ç®—æœºä¸­ï¼Œç±»ä¼¼æ–‡ä»¶ã€ç½‘ç»œç«¯å£è¿™äº›èµ„æºï¼Œéƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿç»Ÿä¸€ç®¡ç†çš„ã€‚åº”ç”¨ç¨‹åºåœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ‰“å¼€äº†ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œè¯»å†™ï¼Œå®Œæˆåè¦åŠæ—¶åœ°å…³é—­ï¼Œä»¥ä¾¿è®©æ“ä½œç³»ç»ŸæŠŠèµ„æºé‡Šæ”¾æ‰ï¼Œå¦åˆ™ï¼Œåº”ç”¨ç¨‹åºå ç”¨çš„èµ„æºä¼šè¶Šæ¥è¶Šå¤šï¼Œä¸ä½†ç™½ç™½å ç”¨å†…å­˜ï¼Œè¿˜ä¼šå½±å“å…¶ä»–åº”ç”¨ç¨‹åºçš„è¿è¡Œã€‚')]),n._v(" "),t("p",[n._v("InputStreamå’ŒOutputStreaméƒ½æ˜¯é€šè¿‡close()æ–¹æ³•æ¥å…³é—­æµã€‚å…³é—­æµå°±ä¼šé‡Šæ”¾å¯¹åº”çš„åº•å±‚èµ„æºã€‚")]),n._v(" "),t("p",[n._v("æˆ‘ä»¬è¿˜è¦æ³¨æ„åˆ°åœ¨è¯»å–æˆ–å†™å…¥IOæµçš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œä¾‹å¦‚ï¼Œæ–‡ä»¶ä¸å­˜åœ¨å¯¼è‡´æ— æ³•è¯»å–ï¼Œæ²¡æœ‰å†™æƒé™å¯¼è‡´å†™å…¥å¤±è´¥ï¼Œç­‰ç­‰ï¼Œè¿™äº›åº•å±‚é”™è¯¯ç”±Javaè™šæ‹Ÿæœºè‡ªåŠ¨å°è£…æˆIOExceptionå¼‚å¸¸å¹¶æŠ›å‡ºã€‚å› æ­¤ï¼Œæ‰€æœ‰ä¸IOæ“ä½œç›¸å…³çš„ä»£ç éƒ½å¿…é¡»æ­£ç¡®å¤„ç†IOExceptionã€‚")]),n._v(" "),t("p",[n._v("ä»”ç»†è§‚å¯Ÿä¸Šé¢çš„ä»£ç ï¼Œä¼šå‘ç°ä¸€ä¸ªæ½œåœ¨çš„é—®é¢˜ï¼šå¦‚æœè¯»å–è¿‡ç¨‹ä¸­å‘ç”Ÿäº†IOé”™è¯¯ï¼ŒInputStreamå°±æ²¡æ³•æ­£ç¡®åœ°å…³é—­ï¼Œèµ„æºä¹Ÿå°±æ²¡æ³•åŠæ—¶é‡Šæ”¾ã€‚")]),n._v(" "),t("p",[n._v("å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç”¨try ... finallyæ¥ä¿è¯InputStreamåœ¨æ— è®ºæ˜¯å¦å‘ç”ŸIOé”™è¯¯çš„æ—¶å€™éƒ½èƒ½å¤Ÿæ­£ç¡®åœ°å…³é—­ï¼š")]),n._v(" "),t("p",[n._v('public void readFile() throws IOException {\nInputStream input = null;\ntry {\ninput = new FileInputStream("src/readme.txt");\nint n;\nwhile ((n = input.read()) != -1) { // åˆ©ç”¨whileåŒæ—¶è¯»å–å¹¶åˆ¤æ–­\nSystem.out.println(n);\n}\n} finally {\nif (input != null) { input.close(); }\n}\n}\nç”¨try ... finallyæ¥ç¼–å†™ä¸Šè¿°ä»£ç ä¼šæ„Ÿè§‰æ¯”è¾ƒå¤æ‚ï¼Œæ›´å¥½çš„å†™æ³•æ˜¯åˆ©ç”¨Java 7å¼•å…¥çš„æ–°çš„try(resource)çš„è¯­æ³•ï¼Œåªéœ€è¦ç¼–å†™tryè¯­å¥ï¼Œè®©ç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºæˆ‘ä»¬å…³é—­èµ„æºã€‚æ¨èçš„å†™æ³•å¦‚ä¸‹ï¼š')]),n._v(" "),t("p",[n._v('public void readFile() throws IOException {\ntry (InputStream input = new FileInputStream("src/readme.txt")) {\nint n;\nwhile ((n = input.read()) != -1) {\nSystem.out.println(n);\n}\n} // ç¼–è¯‘å™¨åœ¨æ­¤è‡ªåŠ¨ä¸ºæˆ‘ä»¬å†™å…¥finallyå¹¶è°ƒç”¨close()\n}\nå®é™…ä¸Šï¼Œç¼–è¯‘å™¨å¹¶ä¸ä¼šç‰¹åˆ«åœ°ä¸ºInputStreamåŠ ä¸Šè‡ªåŠ¨å…³é—­ã€‚ç¼–è¯‘å™¨åªçœ‹try(resource = ...)ä¸­çš„å¯¹è±¡æ˜¯å¦å®ç°äº†java.lang.AutoCloseableæ¥å£ï¼Œå¦‚æœå®ç°äº†ï¼Œå°±è‡ªåŠ¨åŠ ä¸Šfinallyè¯­å¥å¹¶è°ƒç”¨close()æ–¹æ³•ã€‚InputStreamå’ŒOutputStreaméƒ½å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå› æ­¤ï¼Œéƒ½å¯ä»¥ç”¨åœ¨try(resource)ä¸­ã€‚')]),n._v(" "),t("p",[n._v("ç¼“å†²\nåœ¨è¯»å–æµçš„æ—¶å€™ï¼Œä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚å¹¶ä¸æ˜¯æœ€é«˜æ•ˆçš„æ–¹æ³•ã€‚å¾ˆå¤šæµæ”¯æŒä¸€æ¬¡æ€§è¯»å–å¤šä¸ªå­—èŠ‚åˆ°ç¼“å†²åŒºï¼Œå¯¹äºæ–‡ä»¶å’Œç½‘ç»œæµæ¥è¯´ï¼Œåˆ©ç”¨ç¼“å†²åŒºä¸€æ¬¡æ€§è¯»å–å¤šä¸ªå­—èŠ‚æ•ˆç‡å¾€å¾€è¦é«˜å¾ˆå¤šã€‚InputStreamæä¾›äº†ä¸¤ä¸ªé‡è½½æ–¹æ³•æ¥æ”¯æŒè¯»å–å¤šä¸ªå­—èŠ‚ï¼š")]),n._v(" "),t("p",[n._v("int read(byte[] b)ï¼šè¯»å–è‹¥å¹²å­—èŠ‚å¹¶å¡«å……åˆ°byte[]æ•°ç»„ï¼Œè¿”å›è¯»å–çš„å­—èŠ‚æ•°\nint read(byte[] b, int off, int len)ï¼šæŒ‡å®šbyte[]æ•°ç»„çš„åç§»é‡å’Œæœ€å¤§å¡«å……æ•°\nåˆ©ç”¨ä¸Šè¿°æ–¹æ³•ä¸€æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚æ—¶ï¼Œéœ€è¦å…ˆå®šä¹‰ä¸€ä¸ªbyte[]æ•°ç»„ä½œä¸ºç¼“å†²åŒºï¼Œread()æ–¹æ³•ä¼šå°½å¯èƒ½å¤šåœ°è¯»å–å­—èŠ‚åˆ°ç¼“å†²åŒºï¼Œ ä½†ä¸ä¼šè¶…è¿‡ç¼“å†²åŒºçš„å¤§å°ã€‚read()æ–¹æ³•çš„è¿”å›å€¼ä¸å†æ˜¯å­—èŠ‚çš„intå€¼ï¼Œè€Œæ˜¯è¿”å›å®é™…è¯»å–äº†å¤šå°‘ä¸ªå­—èŠ‚ã€‚å¦‚æœè¿”å›-1ï¼Œè¡¨ç¤ºæ²¡æœ‰æ›´å¤šçš„æ•°æ®äº†ã€‚")]),n._v(" "),t("p",[n._v("åˆ©ç”¨ç¼“å†²åŒºä¸€æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚çš„ä»£ç å¦‚ä¸‹ï¼š")]),n._v(" "),t("p",[n._v('public void readFile() throws IOException {\ntry (InputStream input = new FileInputStream("src/readme.txt")) {\n// å®šä¹‰1000ä¸ªå­—èŠ‚å¤§å°çš„ç¼“å†²åŒº:\nbyte[] buffer = new byte[1000];\nint n;\nwhile ((n = input.read(buffer)) != -1) { // è¯»å–åˆ°ç¼“å†²åŒº\nSystem.out.println("read " + n + " bytes.");\n}\n}\n}\né˜»å¡\nåœ¨è°ƒç”¨InputStreamçš„read()æ–¹æ³•è¯»å–æ•°æ®æ—¶ï¼Œæˆ‘ä»¬è¯´read()æ–¹æ³•æ˜¯é˜»å¡ï¼ˆBlockingï¼‰çš„ã€‚å®ƒçš„æ„æ€æ˜¯ï¼Œå¯¹äºä¸‹é¢çš„ä»£ç ï¼š')]),n._v(" "),t("p",[n._v("int n;\nn = input.read(); // å¿…é¡»ç­‰å¾…read()æ–¹æ³•è¿”å›æ‰èƒ½æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç \nint m = n;\næ‰§è¡Œåˆ°ç¬¬äºŒè¡Œä»£ç æ—¶ï¼Œå¿…é¡»ç­‰read()æ–¹æ³•è¿”å›åæ‰èƒ½ç»§ç»­ã€‚å› ä¸ºè¯»å–IOæµç›¸æ¯”æ‰§è¡Œæ™®é€šä»£ç ï¼Œé€Ÿåº¦ä¼šæ…¢å¾ˆå¤šï¼Œå› æ­¤ï¼Œæ— æ³•ç¡®å®šread()æ–¹æ³•è°ƒç”¨åˆ°åº•è¦èŠ±è´¹å¤šé•¿æ—¶é—´ã€‚")]),n._v(" "),t("p",[n._v("InputStreamå®ç°ç±»\nç”¨FileInputStreamå¯ä»¥ä»æ–‡ä»¶è·å–è¾“å…¥æµï¼Œè¿™æ˜¯InputStreamå¸¸ç”¨çš„ä¸€ä¸ªå®ç°ç±»ã€‚æ­¤å¤–ï¼ŒByteArrayInputStreamå¯ä»¥åœ¨å†…å­˜ä¸­æ¨¡æ‹Ÿä¸€ä¸ªInputStreamï¼š")]),n._v(" "),t("p",[n._v("import java.io.*;\npublic class Main {\npublic static void main(String[] args) throws IOException {\nbyte[] data = { 72, 101, 108, 108, 111, 33 };\ntry (InputStream input = new ByteArrayInputStream(data)) {\nint n;\nwhile ((n = input.read()) != -1) {\nSystem.out.println((char)n);\n}\n}\n}\n}")]),n._v(" "),t("p",[n._v("Run\nByteArrayInputStreamå®é™…ä¸Šæ˜¯æŠŠä¸€ä¸ªbyte[]æ•°ç»„åœ¨å†…å­˜ä¸­å˜æˆä¸€ä¸ªInputStreamï¼Œè™½ç„¶å®é™…åº”ç”¨ä¸å¤šï¼Œä½†æµ‹è¯•çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨å®ƒæ¥æ„é€ ä¸€ä¸ªInputStreamã€‚")]),n._v(" "),t("p",[n._v("ä¸¾ä¸ªæ —å­ï¼šæˆ‘ä»¬æƒ³ä»æ–‡ä»¶ä¸­è¯»å–æ‰€æœ‰å­—èŠ‚ï¼Œå¹¶è½¬æ¢æˆcharç„¶åæ‹¼æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š")]),n._v(" "),t("p",[n._v('public class Main {\npublic static void main(String[] args) throws IOException {\nString s;\ntry (InputStream input = new FileInputStream("C:\\test\\README.txt")) {\nint n;\nStringBuilder sb = new StringBuilder();\nwhile ((n = input.read()) != -1) {\nsb.append((char) n);\n}\ns = sb.toString();\n}\nSystem.out.println(s);\n}\n}\nè¦æµ‹è¯•ä¸Šé¢çš„ç¨‹åºï¼Œå°±çœŸçš„éœ€è¦åœ¨æœ¬åœ°ç¡¬ç›˜ä¸Šæ”¾ä¸€ä¸ªçœŸå®çš„æ–‡æœ¬æ–‡ä»¶ã€‚å¦‚æœæˆ‘ä»¬æŠŠä»£ç ç¨å¾®æ”¹é€ ä¸€ä¸‹ï¼Œæå–ä¸€ä¸ªreadAsString()çš„æ–¹æ³•ï¼š')]),n._v(" "),t("p",[n._v('public class Main {\npublic static void main(String[] args) throws IOException {\nString s;\ntry (InputStream input = new FileInputStream("C:\\test\\README.txt")) {\ns = readAsString(input);\n}\nSystem.out.println(s);\n}')]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[n._v("public static String readAsString(InputStream input) throws IOException {\n    int n;\n    StringBuilder sb = new StringBuilder();\n    while ((n = input.read()) != -1) {\n        sb.append((char) n);\n    }\n    return sb.toString();\n}\n")])])]),t("p",[n._v("}\nå¯¹è¿™ä¸ªString readAsString(InputStream input)æ–¹æ³•è¿›è¡Œæµ‹è¯•å°±ç›¸å½“ç®€å•ï¼Œå› ä¸ºä¸ä¸€å®šè¦ä¼ å…¥ä¸€ä¸ªçœŸçš„FileInputStreamï¼š")]),n._v(" "),t("p",[n._v("import java.io.*;\npublic class Main {\npublic static void main(String[] args) throws IOException {\nbyte[] data = { 72, 101, 108, 108, 111, 33 };\ntry (InputStream input = new ByteArrayInputStream(data)) {\nString s = readAsString(input);\nSystem.out.println(s);\n}\n}")]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[n._v("public static String readAsString(InputStream input) throws IOException {\n    int n;\n    StringBuilder sb = new StringBuilder();\n    while ((n = input.read()) != -1) {\n        sb.append((char) n);\n    }\n    return sb.toString();\n}\n")])])]),t("p",[n._v("}")]),n._v(" "),t("p",[n._v("Run\nè¿™å°±æ˜¯é¢å‘æŠ½è±¡ç¼–ç¨‹åŸåˆ™çš„åº”ç”¨ï¼šæ¥å—InputStreamæŠ½è±¡ç±»å‹ï¼Œè€Œä¸æ˜¯å…·ä½“çš„FileInputStreamç±»å‹ï¼Œä»è€Œä½¿å¾—ä»£ç å¯ä»¥å¤„ç†InputStreamçš„ä»»æ„å®ç°ç±»ã€‚")]),n._v(" "),t("p",[n._v("å°ç»“\nJavaæ ‡å‡†åº“çš„java.io.InputStreamå®šä¹‰äº†æ‰€æœ‰è¾“å…¥æµçš„è¶…ç±»ï¼š")]),n._v(" "),t("p",[n._v("FileInputStreamå®ç°äº†æ–‡ä»¶æµè¾“å…¥ï¼›")]),n._v(" "),t("p",[n._v("ByteArrayInputStreamåœ¨å†…å­˜ä¸­æ¨¡æ‹Ÿä¸€ä¸ªå­—èŠ‚æµè¾“å…¥ã€‚")]),n._v(" "),t("p",[n._v("æ€»æ˜¯ä½¿ç”¨try(resource)æ¥ä¿è¯InputStreamæ­£ç¡®å…³é—­ã€‚")])])}),[],!1,null,null,null);t.default=i.exports}}]);